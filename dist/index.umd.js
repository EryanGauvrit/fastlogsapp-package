!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e||self).fastlogsapp={})}(this,function(e){var t=/*#__PURE__*/function(){function e(e,t){this.API_URL="https://fast-logs-app.onrender.com",this.secretKey=void 0,this.sourceName=void 0,this.secretKey=e,this.sourceName=t}var t=e.prototype;return t.getFastLogs=function(e){try{var t=new URLSearchParams(e).toString();return Promise.resolve(fetch(this.API_URL+"/log"+(t&&"?"+t),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.secretKey}})).then(function(e){if(200!==e.status)throw new Error("Failed to fetch fast logs");return e.json()})}catch(e){return Promise.reject(e)}},t.postFastLog=function(e){try{var t=this;return Promise.resolve(t.getUserPersonalData()).then(function(o){return e.sourceName=t.sourceName,e.ip_address=o.address_ip,e.navigator=o.browser,Promise.resolve(fetch(t.API_URL+"/log",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t.secretKey},body:JSON.stringify(e)})).then(function(e){if(200!==e.status)throw new Error("Failed to post fast log")})})}catch(e){return Promise.reject(e)}},t.deleteFastLog=function(e){try{return Promise.resolve(fetch(this.API_URL+"/log/"+e,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.secretKey}})).then(function(e){if(200!==e.status)throw new Error("Failed to delete fast log")})}catch(e){return Promise.reject(e)}},t.getUserPersonalData=function(){try{return Promise.resolve(fetch(this.API_URL+"/audit",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.secretKey}})).then(function(e){if(200!==e.status)throw new Error("Failed to fetch user personal data");return e.json()})}catch(e){return Promise.reject(e)}},e}();e.FastLogsService=/*#__PURE__*/function(){function e(e,o){this.fastLogsRepository=void 0,this.fastLogsRepository=new t(e,o)}var o=e.prototype;return o.getFastLogs=function(e){try{return Promise.resolve(this.fastLogsRepository.getFastLogs(e))}catch(e){return Promise.reject(e)}},o.postFastLog=function(e){try{return Promise.resolve(this.fastLogsRepository.postFastLog(e))}catch(e){return Promise.reject(e)}},o.deleteFastLog=function(e){try{return Promise.resolve(this.fastLogsRepository.deleteFastLog(e))}catch(e){return Promise.reject(e)}},e}(),e.testPackage=function(){console.log("testPackage utility function called!")}});
//# sourceMappingURL=index.umd.js.map
